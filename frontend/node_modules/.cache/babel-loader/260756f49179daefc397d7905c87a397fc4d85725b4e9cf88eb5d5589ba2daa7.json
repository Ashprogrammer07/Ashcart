{"ast":null,"code":"import axios from'axios';import{productsRequest,productsFail,productsSuccess,adminproductsRequest,adminproductsSuccess,adminproductsFail}from'../slices/productsSlice';import{productRequest,productFail,productSuccess,createreviewRequest,createreviewSuccess,createreviewFail,newproductRequest,newproductSuccess,newproductFail,deleteproductRequest,deleteproductSuccess,deleteproductFail,updateproductFail,updateproductRequest,updateproductSuccess,adminreviewsRequest,adminreviewsSuccess,adminreviewsFail,deletereviewRequest,deletereviewSuccess,deletereviewFail}from'../slices/productSlice';export const getProducts=(keyword,price,category,rating,currentPage)=>async dispatch=>{try{dispatch(productsRequest());let link=\"/api/v1/products?page=\".concat(currentPage);if(keyword){link+=\"&keyword=\".concat(keyword);}if(price){link+=\"&price[gte]=\".concat(price[0],\"&price[lte]=\").concat(price[1]);}if(category){link+=\"&category=\".concat(category);}if(rating){link+=\"&ratings=\".concat(rating);}const{data}=await axios.get(link);dispatch(productsSuccess(data));}catch(error){//handle error\ndispatch(productsFail(error.response.data.message));}};export const getproduct=id=>async dispatch=>{try{dispatch(productRequest());const{data}=await axios.get(\"/api/v1/products/\".concat(id));dispatch(productSuccess(data));}catch(error){var _error$response,_error$response$data;dispatch(productFail(((_error$response=error.response)===null||_error$response===void 0?void 0:(_error$response$data=_error$response.data)===null||_error$response$data===void 0?void 0:_error$response$data.message)||error.message));}};export const createReview=review=>async dispatch=>{try{dispatch(createreviewRequest());const config={headers:{'Content-type':'application/json'}};const{data}=await axios.post(\"/api/v1/products/reviews\",review,config);dispatch(createreviewSuccess(data));}catch(error){var _error$response2,_error$response2$data;dispatch(createreviewFail(((_error$response2=error.response)===null||_error$response2===void 0?void 0:(_error$response2$data=_error$response2.data)===null||_error$response2$data===void 0?void 0:_error$response2$data.message)||error.message));}};export const getAdminProducts=async dispatch=>{try{dispatch(adminproductsRequest());const{data}=await axios.get(\"/api/v1/admin/products\");dispatch(adminproductsSuccess(data));}catch(error){dispatch(adminproductsFail(error.response.data.message));}};export const createProducts=formdata=>async dispatch=>{try{dispatch(newproductRequest());const{data}=await axios.post(\"/api/v1/admin/products/new\",formdata);dispatch(newproductSuccess(data));}catch(error){dispatch(newproductFail(error.response.data.message));}};export const DeleteProduct=id=>async dispatch=>{try{dispatch(deleteproductRequest());await axios.delete(\"/api/v1/admin/products/\".concat(id)),dispatch(deleteproductSuccess());}catch(error){dispatch(deleteproductFail(error.response.data.message));}};export const updateProducts=(id,formdata)=>async dispatch=>{try{dispatch(updateproductRequest());const{data}=await axios.put(\"/api/v1/admin/products/\".concat(id),formdata);dispatch(updateproductSuccess(data));}catch(error){dispatch(updateproductFail(error.response.data.message));}};export const getReviews=id=>async dispatch=>{try{dispatch(adminreviewsRequest());const{data}=await axios.get(\"/api/v1/admin/products/reviews\",{params:{id}});dispatch(adminreviewsSuccess(data));}catch(error){var _error$response3,_error$response3$data;dispatch(adminreviewsFail(((_error$response3=error.response)===null||_error$response3===void 0?void 0:(_error$response3$data=_error$response3.data)===null||_error$response3$data===void 0?void 0:_error$response3$data.message)||error.message));}};export const deleteReview=(productId,id)=>async dispatch=>{try{dispatch(deletereviewRequest());await axios.delete(\"/api/v1/admin/products/reviews\",{params:{productId,id}});dispatch(deletereviewSuccess());}catch(error){var _error$response4,_error$response4$data;dispatch(deletereviewFail(((_error$response4=error.response)===null||_error$response4===void 0?void 0:(_error$response4$data=_error$response4.data)===null||_error$response4$data===void 0?void 0:_error$response4$data.message)||error.message));}};","map":{"version":3,"names":["axios","productsRequest","productsFail","productsSuccess","adminproductsRequest","adminproductsSuccess","adminproductsFail","productRequest","productFail","productSuccess","createreviewRequest","createreviewSuccess","createreviewFail","newproductRequest","newproductSuccess","newproductFail","deleteproductRequest","deleteproductSuccess","deleteproductFail","updateproductFail","updateproductRequest","updateproductSuccess","adminreviewsRequest","adminreviewsSuccess","adminreviewsFail","deletereviewRequest","deletereviewSuccess","deletereviewFail","getProducts","keyword","price","category","rating","currentPage","dispatch","link","concat","data","get","error","response","message","getproduct","id","_error$response","_error$response$data","createReview","review","config","headers","post","_error$response2","_error$response2$data","getAdminProducts","createProducts","formdata","DeleteProduct","delete","updateProducts","put","getReviews","params","_error$response3","_error$response3$data","deleteReview","productId","_error$response4","_error$response4$data"],"sources":["/home/ashwin/Documents/GitHub/Ashcart/frontend/src/actions/productsActions.js"],"sourcesContent":["import axios from 'axios';\nimport { productsRequest, productsFail, productsSuccess, adminproductsRequest, adminproductsSuccess, adminproductsFail } from '../slices/productsSlice';\nimport { productRequest, productFail, productSuccess, createreviewRequest, createreviewSuccess, createreviewFail, newproductRequest, newproductSuccess, newproductFail, deleteproductRequest, deleteproductSuccess, deleteproductFail, updateproductFail, updateproductRequest, updateproductSuccess, adminreviewsRequest, adminreviewsSuccess, adminreviewsFail, deletereviewRequest, deletereviewSuccess, deletereviewFail } from '../slices/productSlice';\n\n\n\nexport const getProducts = (keyword, price, category, rating, currentPage) => async (dispatch) => {\n\n    try {  \n        dispatch(productsRequest()) \n        let link = `/api/v1/products?page=${currentPage}`;\n        \n        if(keyword) {\n            link += `&keyword=${keyword}`\n        }\n        if(price) {\n            link += `&price[gte]=${price[0]}&price[lte]=${price[1]}`\n        }\n        if(category) {\n            link += `&category=${category}`\n        }\n        if(rating) {\n            link += `&ratings=${rating}`\n        }\n        \n        const { data }  =  await axios.get(link);\n        dispatch(productsSuccess(data))\n    } catch (error) {\n        //handle error\n        dispatch(productsFail(error.response.data.message))\n    }\n    \n}\n\n\n\n\n\n\nexport const getproduct=id=>async(dispatch)=>{\n    try {\n        dispatch(productRequest());\n       \n        const {data}= await axios.get(`/api/v1/products/${id}`);\n        dispatch(productSuccess(data));\n    } catch (error) {\n        dispatch(productFail(error.response?.data?.message || error.message));\n    }\n}\n\nexport const createReview=review=>async(dispatch)=>{\n    try {\n        dispatch(createreviewRequest());\n        const config={\n            headers:{\n                'Content-type':'application/json'\n            }\n        }\n       \n        const {data}= await axios.post(`/api/v1/products/reviews`,review,config);\n        dispatch(createreviewSuccess(data));\n    } catch (error) {\n        dispatch(createreviewFail(error.response?.data?.message || error.message));\n    }\n}\n\n\nexport const getAdminProducts=async(dispatch)=>{\n    try{\n        dispatch(adminproductsRequest())\n        const {data}= await axios.get(`/api/v1/admin/products`)\n        dispatch(adminproductsSuccess(data))\n    }\n    catch(error){\n        dispatch(adminproductsFail(error.response.data.message))\n    }\n}\nexport const createProducts=(formdata)=>async(dispatch)=>{\n    try{\n        dispatch(newproductRequest())\n     \n        const {data}= await axios.post(`/api/v1/admin/products/new`,formdata)\n        dispatch(newproductSuccess(data))\n    }\n    catch(error){\n        dispatch(newproductFail(error.response.data.message))\n    }\n}\nexport const DeleteProduct=(id)=>async(dispatch)=>{\n    try{\n        dispatch(deleteproductRequest())\n     \n        await axios.delete(`/api/v1/admin/products/${id}`),\n        dispatch(deleteproductSuccess())\n    }\n    catch(error){\n        dispatch(deleteproductFail(error.response.data.message))\n    }\n}\nexport const updateProducts=(id,formdata)=>async(dispatch)=>{\n    try{\n        dispatch(updateproductRequest())\n     \n        const {data}= await axios.put(`/api/v1/admin/products/${id}`,formdata)\n        dispatch(updateproductSuccess(data))\n    }\n    catch(error){\n        dispatch(updateproductFail(error.response.data.message))\n    }\n}\nexport const getReviews=(id)=>async(dispatch)=>{\n    try {\n        dispatch(adminreviewsRequest());\n        \n        const {data}= await axios.get(`/api/v1/admin/products/reviews`,{params:{id}});\n        dispatch(adminreviewsSuccess(data));\n    } catch (error) {\n        dispatch(adminreviewsFail(error.response?.data?.message || error.message));\n    }\n};\nexport const deleteReview=(productId,id)=>async(dispatch)=>{\n    try {\n        dispatch(deletereviewRequest());\n        \n        await axios.delete(`/api/v1/admin/products/reviews`,{params:{productId,id}});\n        dispatch(deletereviewSuccess());\n    } catch (error) {\n        dispatch(deletereviewFail(error.response?.data?.message || error.message));\n    }\n};\n "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}