{"ast":null,"code":"import{Fragment,useEffect,useState}from\"react\";import MetaData from\"../layouts/MetaData\";import{toast}from\"react-toastify\";import{useDispatch,useSelector}from\"react-redux\";import{useNavigate,useParams}from\"react-router-dom\";import'react-toastify/dist/ReactToastify.css';import{resetPassword,clearAutherror}from\"../../actions/userActions\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export default function ResetPassword(){const dispatch=useDispatch();const[password,setPassword]=useState(\"\");const[confirmPassword,setConfirmpassword]=useState(\"\");const navigate=useNavigate();const{token}=useParams();const onsubmithandler=e=>{e.preventDefault();const formdata=new FormData();formdata.append('password',password);formdata.append('confirmPassword',confirmPassword);dispatch(resetPassword(formdata,token));};const{isauthenticated,error}=useSelector(state=>state.authState);useEffect(()=>{if(isauthenticated){navigate('/');toast(\"Password Reset Successfull!!!\",{type:'success',position:'bottom-center'});setPassword(\"\");setConfirmpassword(\"\");return;}if(error){toast(error,{position:'bottom-center',type:'error',onOpen:()=>{dispatch(clearAutherror);}});return;}},[dispatch,error,isauthenticated,navigate]);return/*#__PURE__*/_jsxs(Fragment,{children:[/*#__PURE__*/_jsx(MetaData,{title:\"Reset Password\"}),/*#__PURE__*/_jsx(\"div\",{className:\"row wrapper\",children:/*#__PURE__*/_jsx(\"div\",{className:\"col-10 col-lg-5\",children:/*#__PURE__*/_jsxs(\"form\",{className:\"shadow-lg\",onSubmit:onsubmithandler,children:[/*#__PURE__*/_jsx(\"h1\",{className:\"mb-3\",children:\"New Password\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"password_field\",children:\"Password\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",id:\"password_field\",className:\"form-control\",value:password,onChange:e=>setPassword(e.target.value)})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"confirm_password_field\",children:\"Confirm Password\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",id:\"confirm_password_field\",className:\"form-control\",value:confirmPassword,onChange:e=>setConfirmpassword(e.target.value)})]}),/*#__PURE__*/_jsx(\"button\",{id:\"new_password_button\",type:\"submit\",className:\"btn btn-block py-3\",children:\"Set Password\"})]})})})]});}","map":{"version":3,"names":["Fragment","useEffect","useState","MetaData","toast","useDispatch","useSelector","useNavigate","useParams","resetPassword","clearAutherror","jsx","_jsx","jsxs","_jsxs","ResetPassword","dispatch","password","setPassword","confirmPassword","setConfirmpassword","navigate","token","onsubmithandler","e","preventDefault","formdata","FormData","append","isauthenticated","error","state","authState","type","position","onOpen","children","title","className","onSubmit","htmlFor","id","value","onChange","target"],"sources":["/home/ashwin/Documents/GitHub/Ashcart/frontend/src/components/user/resetpassword.js"],"sourcesContent":["import { Fragment, useEffect, useState } from \"react\";\nimport MetaData from \"../layouts/MetaData\";\nimport { toast } from \"react-toastify\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { useNavigate, useParams } from \"react-router-dom\";\nimport 'react-toastify/dist/ReactToastify.css';\nimport { resetPassword ,clearAutherror} from \"../../actions/userActions\";\n\nexport default function ResetPassword(){\n    const dispatch=useDispatch();\n    const [password,setPassword]=useState(\"\");\n    const [confirmPassword,setConfirmpassword]=useState(\"\");\n    const navigate=useNavigate();\n    const {token}=useParams();\n    const onsubmithandler=(e)=>{\n            e.preventDefault();\n            const formdata =new FormData();\n            formdata.append('password',password)\n            formdata.append('confirmPassword',confirmPassword)\n           \n            dispatch(resetPassword(formdata,token))\n        }\n        const {isauthenticated,error}=useSelector(state=>state.authState);\n        useEffect(()=>{\n            if(isauthenticated){\n                navigate('/')\n                        toast(\"Password Reset Successfull!!!\",{\n                            type:'success',\n                            position:'bottom-center'\n                        })\n                        setPassword(\"\");\n                        setConfirmpassword(\"\");\n                        return;\n                    }\n                     if(error)  {\n                                toast(error, {\n                                    position: 'bottom-center',\n                                    type: 'error',\n                                    onOpen: ()=> { dispatch(clearAutherror) }\n                                })\n                                return\n                            }\n        },[dispatch,error,isauthenticated,navigate])\n    return(\n        <Fragment>\n            <MetaData title={\"Reset Password\"}/>\n            <div className=\"row wrapper\">\n            <div className=\"col-10 col-lg-5\">\n                <form className=\"shadow-lg\" onSubmit={onsubmithandler}>\n                    <h1 className=\"mb-3\">New Password</h1>\n\n                    <div className=\"form-group\">\n                        <label htmlFor=\"password_field\">Password</label>\n                        <input\n                            type=\"password\"\n                            id=\"password_field\"\n                            className=\"form-control\"\n                            value={password}\n                            onChange={(e)=>setPassword(e.target.value)}\n                        />\n                    </div>\n\n                    <div className=\"form-group\">\n                        <label htmlFor=\"confirm_password_field\">Confirm Password</label>\n                        <input\n                            type=\"password\"\n                            id=\"confirm_password_field\"\n                            className=\"form-control\"\n                            value={confirmPassword}\n                            onChange={e=>setConfirmpassword(e.target.value)}\n                        />\n                    </div>\n\n                    <button\n                        id=\"new_password_button\"\n                        type=\"submit\"\n                        className=\"btn btn-block py-3\">\n                        Set Password\n                    </button>\n\n                </form>\n            </div>\n        </div>\n        </Fragment>\n    )\n}"],"mappings":"AAAA,OAASA,QAAQ,CAAEC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CACrD,MAAO,CAAAC,QAAQ,KAAM,qBAAqB,CAC1C,OAASC,KAAK,KAAQ,gBAAgB,CACtC,OAASC,WAAW,CAAEC,WAAW,KAAQ,aAAa,CACtD,OAASC,WAAW,CAAEC,SAAS,KAAQ,kBAAkB,CACzD,MAAO,uCAAuC,CAC9C,OAASC,aAAa,CAAEC,cAAc,KAAO,2BAA2B,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAEzE,cAAe,SAAS,CAAAC,aAAaA,CAAA,CAAE,CACnC,KAAM,CAAAC,QAAQ,CAACX,WAAW,CAAC,CAAC,CAC5B,KAAM,CAACY,QAAQ,CAACC,WAAW,CAAC,CAAChB,QAAQ,CAAC,EAAE,CAAC,CACzC,KAAM,CAACiB,eAAe,CAACC,kBAAkB,CAAC,CAAClB,QAAQ,CAAC,EAAE,CAAC,CACvD,KAAM,CAAAmB,QAAQ,CAACd,WAAW,CAAC,CAAC,CAC5B,KAAM,CAACe,KAAK,CAAC,CAACd,SAAS,CAAC,CAAC,CACzB,KAAM,CAAAe,eAAe,CAAEC,CAAC,EAAG,CACnBA,CAAC,CAACC,cAAc,CAAC,CAAC,CAClB,KAAM,CAAAC,QAAQ,CAAE,GAAI,CAAAC,QAAQ,CAAC,CAAC,CAC9BD,QAAQ,CAACE,MAAM,CAAC,UAAU,CAACX,QAAQ,CAAC,CACpCS,QAAQ,CAACE,MAAM,CAAC,iBAAiB,CAACT,eAAe,CAAC,CAElDH,QAAQ,CAACP,aAAa,CAACiB,QAAQ,CAACJ,KAAK,CAAC,CAAC,CAC3C,CAAC,CACD,KAAM,CAACO,eAAe,CAACC,KAAK,CAAC,CAACxB,WAAW,CAACyB,KAAK,EAAEA,KAAK,CAACC,SAAS,CAAC,CACjE/B,SAAS,CAAC,IAAI,CACV,GAAG4B,eAAe,CAAC,CACfR,QAAQ,CAAC,GAAG,CAAC,CACLjB,KAAK,CAAC,+BAA+B,CAAC,CAClC6B,IAAI,CAAC,SAAS,CACdC,QAAQ,CAAC,eACb,CAAC,CAAC,CACFhB,WAAW,CAAC,EAAE,CAAC,CACfE,kBAAkB,CAAC,EAAE,CAAC,CACtB,OACJ,CACC,GAAGU,KAAK,CAAG,CACA1B,KAAK,CAAC0B,KAAK,CAAE,CACTI,QAAQ,CAAE,eAAe,CACzBD,IAAI,CAAE,OAAO,CACbE,MAAM,CAAEA,CAAA,GAAK,CAAEnB,QAAQ,CAACN,cAAc,CAAC,CAAC,CAC5C,CAAC,CAAC,CACF,OACJ,CACpB,CAAC,CAAC,CAACM,QAAQ,CAACc,KAAK,CAACD,eAAe,CAACR,QAAQ,CAAC,CAAC,CAChD,mBACIP,KAAA,CAACd,QAAQ,EAAAoC,QAAA,eACLxB,IAAA,CAACT,QAAQ,EAACkC,KAAK,CAAE,gBAAiB,CAAC,CAAC,cACpCzB,IAAA,QAAK0B,SAAS,CAAC,aAAa,CAAAF,QAAA,cAC5BxB,IAAA,QAAK0B,SAAS,CAAC,iBAAiB,CAAAF,QAAA,cAC5BtB,KAAA,SAAMwB,SAAS,CAAC,WAAW,CAACC,QAAQ,CAAEhB,eAAgB,CAAAa,QAAA,eAClDxB,IAAA,OAAI0B,SAAS,CAAC,MAAM,CAAAF,QAAA,CAAC,cAAY,CAAI,CAAC,cAEtCtB,KAAA,QAAKwB,SAAS,CAAC,YAAY,CAAAF,QAAA,eACvBxB,IAAA,UAAO4B,OAAO,CAAC,gBAAgB,CAAAJ,QAAA,CAAC,UAAQ,CAAO,CAAC,cAChDxB,IAAA,UACIqB,IAAI,CAAC,UAAU,CACfQ,EAAE,CAAC,gBAAgB,CACnBH,SAAS,CAAC,cAAc,CACxBI,KAAK,CAAEzB,QAAS,CAChB0B,QAAQ,CAAGnB,CAAC,EAAGN,WAAW,CAACM,CAAC,CAACoB,MAAM,CAACF,KAAK,CAAE,CAC9C,CAAC,EACD,CAAC,cAEN5B,KAAA,QAAKwB,SAAS,CAAC,YAAY,CAAAF,QAAA,eACvBxB,IAAA,UAAO4B,OAAO,CAAC,wBAAwB,CAAAJ,QAAA,CAAC,kBAAgB,CAAO,CAAC,cAChExB,IAAA,UACIqB,IAAI,CAAC,UAAU,CACfQ,EAAE,CAAC,wBAAwB,CAC3BH,SAAS,CAAC,cAAc,CACxBI,KAAK,CAAEvB,eAAgB,CACvBwB,QAAQ,CAAEnB,CAAC,EAAEJ,kBAAkB,CAACI,CAAC,CAACoB,MAAM,CAACF,KAAK,CAAE,CACnD,CAAC,EACD,CAAC,cAEN9B,IAAA,WACI6B,EAAE,CAAC,qBAAqB,CACxBR,IAAI,CAAC,QAAQ,CACbK,SAAS,CAAC,oBAAoB,CAAAF,QAAA,CAAC,cAEnC,CAAQ,CAAC,EAEP,CAAC,CACN,CAAC,CACL,CAAC,EACI,CAAC,CAEnB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}