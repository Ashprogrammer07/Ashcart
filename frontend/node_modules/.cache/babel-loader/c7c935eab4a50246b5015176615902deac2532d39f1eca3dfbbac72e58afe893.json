{"ast":null,"code":"import _objectSpread from\"/home/ashwin/Documents/GitHub/Ashcart/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useEffect,useState}from\"react\";import MetaData from\"../layouts/MetaData\";import{getProducts}from\"../../actions/productsActions\";import{useDispatch,useSelector}from\"react-redux\";import Loader from\"../layouts/loader\";import Product from\"./product\";import{toast}from\"react-toastify\";import Pagination from\"react-js-pagination\";import{useParams}from\"react-router-dom\";import Slider from\"rc-slider\";import'rc-slider/assets/index.css';import'rc-tooltip/assets/bootstrap.css';import Tooltip from'rc-tooltip';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const{Fragment}=React;export default function ProductSearch(){const Categories=['Electronics','Mobile Phones','Laptops','Accessories','Headphones','Food','Books','Clothes/Shoes','Beauty/Health','Sports','Outdoor','Home'];const[currentpage,setCurrentpage]=useState(1);const[price,setPrice]=useState([1,3000]);const[pricechanged,setPricechanged]=useState(price);const{keyword}=useParams();const[category,setCategory]=useState(null);const[rating,setRating]=useState(0);const dispatch=useDispatch();const{products,loading,error,productsCount,resperPage}=useSelector(state=>state.productsState);useEffect(()=>{if(error){return toast.error(error);}dispatch(getProducts(keyword,pricechanged,category,rating,currentpage));},[dispatch,error,currentpage,keyword,pricechanged,category,rating]);const setCurrentpageNO=PAGENO=>{setCurrentpage(PAGENO);console.log(PAGENO);};return/*#__PURE__*/_jsx(Fragment,{children:loading?/*#__PURE__*/_jsx(Loader,{}):/*#__PURE__*/_jsxs(Fragment,{children:[/*#__PURE__*/_jsx(MetaData,{title:'Buy Best Products'}),/*#__PURE__*/_jsx(\"h1\",{id:\"products_heading\",children:\"Search Products\"}),/*#__PURE__*/_jsx(\"section\",{id:\"products\",class:\"container mt-5\",children:/*#__PURE__*/_jsxs(\"div\",{class:\"row\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"col-6 col-md-3 mb-5 mt-5\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"mb-3\",children:\"Price Range\"}),/*#__PURE__*/_jsx(\"div\",{className:\"px-5\",onMouseUp:()=>setPricechanged(price),children:/*#__PURE__*/_jsx(Slider,{range:true,marks:{1:\"$1\",1000:\"$1000\"},min:1,max:1000,defaultValue:price,onChange:price=>{setPrice(price);},handleRender:renderProps=>{return/*#__PURE__*/_jsx(Tooltip,{overlay:\"$\".concat(renderProps.props['aria-valuenow']),children:/*#__PURE__*/_jsx(\"div\",_objectSpread({},renderProps.props))});}})}),/*#__PURE__*/_jsx(\"hr\",{className:\"my-5\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-5\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"mb-3\",children:\"Categories\"}),/*#__PURE__*/_jsx(\"ul\",{className:\"pl-0\",children:Categories.map(Category=>/*#__PURE__*/_jsx(\"li\",{style:{cursor:\"pointer\",listStyle:\"none\"},onClick:()=>setCategory(Category),children:Category},Category))})]}),/*#__PURE__*/_jsxs(\"div\",{\"mt-5\":true,children:[/*#__PURE__*/_jsx(\"h3\",{className:\"mb-3\",children:\"Rating\"}),/*#__PURE__*/_jsx(\"ul\",{className:\"pl-0\",children:[5,4,3,2,1].map(star=>/*#__PURE__*/_jsx(\"li\",{style:{cursor:\"pointer\",listStyle:\"none\"},onClick:()=>setRating(star),children:/*#__PURE__*/_jsx(\"div\",{className:\"rating-outer\",children:/*#__PURE__*/_jsx(\"div\",{className:\"rating-inner\",style:{width:\"\".concat(star*20,\"%\")}})})},star))})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"col-6 col-md-9 \",children:/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:products&&products.map(product=>/*#__PURE__*/_jsx(Product,{col:4,product:product},product._id))})})]})}),productsCount>0&&productsCount>resperPage?/*#__PURE__*/_jsx(\"div\",{className:\"d-flex justify-content-center ,t-5\",children:/*#__PURE__*/_jsx(Pagination,{activePage:currentpage,onChange:setCurrentpageNO,totalItemsCount:productsCount,itemsCountPerPage:resperPage,nextPageText:\"Next\",firstPageText:\"First\",lastPageText:\"Last\",itemClass:'page-item',linkClass:'page-link'})}):null]})});}","map":{"version":3,"names":["React","useEffect","useState","MetaData","getProducts","useDispatch","useSelector","Loader","Product","toast","Pagination","useParams","Slider","Tooltip","jsx","_jsx","jsxs","_jsxs","Fragment","ProductSearch","Categories","currentpage","setCurrentpage","price","setPrice","pricechanged","setPricechanged","keyword","category","setCategory","rating","setRating","dispatch","products","loading","error","productsCount","resperPage","state","productsState","setCurrentpageNO","PAGENO","console","log","children","title","id","class","className","onMouseUp","range","marks","min","max","defaultValue","onChange","handleRender","renderProps","overlay","concat","props","_objectSpread","map","Category","style","cursor","listStyle","onClick","star","width","product","col","_id","activePage","totalItemsCount","itemsCountPerPage","nextPageText","firstPageText","lastPageText","itemClass","linkClass"],"sources":["/home/ashwin/Documents/GitHub/Ashcart/frontend/src/components/product/productSearch.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport MetaData from \"../layouts/MetaData\";\nimport { getProducts } from \"../../actions/productsActions\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport Loader from \"../layouts/loader\";\nimport Product from \"./product\";\nimport { toast } from \"react-toastify\";\nimport Pagination from \"react-js-pagination\";\nimport { useParams } from \"react-router-dom\";\nimport Slider from \"rc-slider\";\nimport 'rc-slider/assets/index.css';\nimport 'rc-tooltip/assets/bootstrap.css';\nimport Tooltip from 'rc-tooltip';\nconst {Fragment} =React;\nexport default function ProductSearch() {\n  const Categories=[\n    'Electronics',\n                'Mobile Phones',\n                'Laptops',\n                'Accessories',\n                'Headphones',\n                'Food',\n                'Books',\n                'Clothes/Shoes',\n                'Beauty/Health',\n                'Sports',\n                'Outdoor',\n                'Home'\n  ]\n\n  const [currentpage,setCurrentpage]=useState(1);\n  const [price,setPrice]=useState([1,3000]);\n    const [pricechanged,setPricechanged]=useState(price);\n  const {keyword}=useParams();\nconst [category,setCategory]=useState(null);\nconst [rating,setRating]=useState(0);\n  const dispatch=useDispatch();\n  const {products,loading,error,productsCount,resperPage}=useSelector((state)=>state.productsState);\n   useEffect(()=>{\n    if(error){\n    return toast.error(error)}\n    dispatch(getProducts(keyword,pricechanged,category,rating,currentpage))\n   },[dispatch,error,currentpage,keyword,pricechanged,category,rating])\n\n  const setCurrentpageNO=(PAGENO)=>{\n    setCurrentpage(PAGENO);\n    console.log(PAGENO);\n   }\n    return(\n      <Fragment>\n        {loading?<Loader/>:\n      <Fragment>\n        <MetaData title={'Buy Best Products'}/>\n         <h1 id=\"products_heading\">Search Products</h1>\n        <section id=\"products\" class=\"container mt-5\">\n      <div class=\"row\">\n        <div className=\"col-6 col-md-3 mb-5 mt-5\">\n          <h3 className=\"mb-3\">Price Range</h3>\n          <div className=\"px-5\" onMouseUp={()=>setPricechanged(price)}>\n            <Slider range={true}\n            marks={{\n              1:\"$1\",\n              1000:\"$1000\"\n\n            }}\n            min={1}\n            max={1000}\n            defaultValue={price}\n            onChange={(price)=>{\n              setPrice(price);\n            }}\n            handleRender={\n              renderProps=>{\n                return (\n                  <Tooltip overlay={`$${renderProps.props['aria-valuenow']}`}>\n                    <div {...renderProps.props}></div>\n                  </Tooltip>\n                )\n              }\n            }/>\n          </div>\n          <hr className=\"my-5\"/>\n\n\n          <div className=\"mt-5\">\n            <h3 className=\"mb-3\">Categories</h3>\n            <ul className=\"pl-0\">\n              {Categories.map(Category=>\n                   <li style={{cursor:\"pointer\",listStyle:\"none\"}} key={Category}  onClick={()=>\n                    setCategory(Category)\n                   }>{Category}</li>\n              )}\n             \n            </ul>\n          </div>\n\n          <div mt-5>\n            <h3 className=\"mb-3\">Rating</h3>\n            <ul className=\"pl-0\">\n              {[5,4,3,2,1].map(star=>\n                   <li style={{cursor:\"pointer\",listStyle:\"none\"}} key={star} onClick={()=>\n                    setRating(star)\n                   }>\n                    <div className=\"rating-outer\">\n                      <div className=\"rating-inner\" style={{width: `${star *20}%`}}>\n\n                      </div>\n                    </div>\n                   </li>\n              )}\n             \n            </ul>\n\n          </div>\n        </div>\n        <div className=\"col-6 col-md-9 \">\n          <div className=\"row\">\n              {products && products.map(product => (\n           <Product col={4} key={product._id} product={product}/>\n        ))\n        }\n          </div>\n        </div>\n        \n        \n      </div>\n    </section>\n    {\n        productsCount>0  && productsCount > resperPage?<div className=\"d-flex justify-content-center ,t-5\">\n      <Pagination\n        activePage={currentpage}\n        onChange={setCurrentpageNO}\n        totalItemsCount={productsCount}\n        itemsCountPerPage={resperPage}\n        nextPageText={\"Next\"}\n        firstPageText={\"First\"}\n        lastPageText={\"Last\"}\n        itemClass={'page-item'}\n        linkClass={'page-link'}\n      />\n    </div>:null\n    }\n    </Fragment>\n}\n    </Fragment>\n    \n    )\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}