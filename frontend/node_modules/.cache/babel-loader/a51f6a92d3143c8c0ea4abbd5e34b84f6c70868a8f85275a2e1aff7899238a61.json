{"ast":null,"code":"import{Fragment,useState}from\"react\";import{useDispatch,useSelector}from'react-redux';import MetaData from\"../layouts/MetaData\";import{countries}from'countries-list';import{saveShippinginfo}from\"../../slices/cartSlice\";import{useNavigate}from'react-router-dom';import CheckoutSteps from'./checkoutSteps';import{toast}from\"react-toastify\";import'react-toastify/dist/ReactToastify.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export const validateShipping=(shippingInfo,navigate)=>{const{address,phoneno,postalcode,state,country,city}=shippingInfo;console.log(\"ðŸ”Ž Validating:\",shippingInfo);if(!(address!==null&&address!==void 0&&address.trim())||!(phoneno!==null&&phoneno!==void 0&&phoneno.trim())||!(postalcode!==null&&postalcode!==void 0&&postalcode.trim())||!(state!==null&&state!==void 0&&state.trim())||!(country!==null&&country!==void 0&&country.trim())||!(city!==null&&city!==void 0&&city.trim())){toast(\"Please fill in all shipping information\",{position:'bottom-center',type:\"error\"});navigate('/shipping');return false;}return true;};export default function ShippingInfo(){const{shippingInfo}=useSelector(state=>state.cartState);const[address,setAddress]=useState(shippingInfo.address);const[city,setCity]=useState(shippingInfo.city);const[postalcode,setpostalcode]=useState(shippingInfo.postalcode);const[phoneno,setphoneno]=useState(shippingInfo.phoneno);const[country,setcountry]=useState(shippingInfo.country);const[state,setstate]=useState(ShippingInfo.state);const countrylist=Object.values(countries);const dispatch=useDispatch();const navigate=useNavigate();const submithandler=e=>{e.preventDefault();dispatch(saveShippinginfo({address,city,phoneno,postalcode,country,state}));navigate(\"/order/confirm\");};return/*#__PURE__*/_jsxs(Fragment,{children:[/*#__PURE__*/_jsx(MetaData,{title:\"Shipping\"}),/*#__PURE__*/_jsx(CheckoutSteps,{shipping:true}),/*#__PURE__*/_jsx(\"div\",{className:\"row wrapper\",children:/*#__PURE__*/_jsx(\"div\",{className:\"col-10 col-lg-5\",children:/*#__PURE__*/_jsxs(\"form\",{className:\"shadow-lg\",onSubmit:submithandler,children:[/*#__PURE__*/_jsx(\"h1\",{className:\"mb-4\",children:\"Shipping Info\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"address_field\",children:\"Address\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"address_field\",className:\"form-control\",value:address,onChange:e=>setAddress(e.target.value),required:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"city_field\",children:\"City\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"city_field\",className:\"form-control\",value:city,onChange:e=>setCity(e.target.value),required:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlhtmlFor:\"phone_field\",children:\"Phone No\"}),/*#__PURE__*/_jsx(\"input\",{type:\"phone\",id:\"phone_field\",className:\"form-control\",value:phoneno,onChange:e=>setphoneno(e.target.value),required:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"postal_code_field\",children:\"Postal Code\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",id:\"postal_code_field\",className:\"form-control\",value:postalcode,onChange:e=>setpostalcode(e.target.value),required:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"postal_code_field\",children:\"State\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"postal_code_field\",className:\"form-control\",value:state,onChange:e=>setstate(e.target.value),required:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"country_field\",children:\"Country\"}),/*#__PURE__*/_jsx(\"select\",{id:\"country_field\",className:\"form-control\",value:country,onChange:e=>setcountry(e.target.value),required:true,children:countrylist.map((country,i)=>/*#__PURE__*/_jsx(\"option\",{value:country.name,children:country.name},i))})]}),/*#__PURE__*/_jsx(\"button\",{id:\"shipping_btn\",type:\"submit\",className:\"btn btn-block py-3\",children:\"CONTINUE\"})]})})})]});}","map":{"version":3,"names":["Fragment","useState","useDispatch","useSelector","MetaData","countries","saveShippinginfo","useNavigate","CheckoutSteps","toast","jsx","_jsx","jsxs","_jsxs","validateShipping","shippingInfo","navigate","address","phoneno","postalcode","state","country","city","console","log","trim","position","type","ShippingInfo","cartState","setAddress","setCity","setpostalcode","setphoneno","setcountry","setstate","countrylist","Object","values","dispatch","submithandler","e","preventDefault","children","title","shipping","className","onSubmit","htmlFor","id","value","onChange","target","required","htmlhtmlFor","map","i","name"],"sources":["/home/ashwin/Documents/GitHub/Ashcart/frontend/src/components/cart/shipping.js"],"sourcesContent":["import { Fragment, useState } from \"react\";\nimport {useDispatch, useSelector} from 'react-redux'\nimport MetaData from \"../layouts/MetaData\";\nimport {countries} from 'countries-list';\nimport { saveShippinginfo } from \"../../slices/cartSlice\";\nimport {useNavigate} from 'react-router-dom';\nimport CheckoutSteps from './checkoutSteps';\nimport { toast } from \"react-toastify\";\nimport 'react-toastify/dist/ReactToastify.css';\nexport const validateShipping = (shippingInfo, navigate) => {\n    const { address, phoneno, postalcode, state, country, city } = shippingInfo;\n    console.log(\"ðŸ”Ž Validating:\", shippingInfo);\n\n\n    if (\n        !address?.trim() ||\n        !phoneno?.trim() ||\n        !postalcode?.trim() ||\n        !state?.trim() ||\n        !country?.trim() ||\n        !city?.trim()\n    ) {\n       \n        toast(\"Please fill in all shipping information\", {\n            position: 'bottom-center',\n            type: \"error\",\n        });\n        navigate('/shipping');\n        return false;\n    }\n\n    return true;\n};\n\nexport default function ShippingInfo(){\n\n    const {shippingInfo}=useSelector(state=>state.cartState);\n    const [address,setAddress]=useState(shippingInfo.address)\n    const [city,setCity]=useState(shippingInfo.city);\n    const [postalcode,setpostalcode]=useState(shippingInfo.postalcode);\n    const [phoneno,setphoneno]=useState(shippingInfo.phoneno)\n    const [country,setcountry]=useState(shippingInfo.country);\n    const [state,setstate]=useState(ShippingInfo.state);\n    const countrylist=Object.values(countries);\n    const dispatch=useDispatch();\n    const navigate=useNavigate();\n    const submithandler=(e)=>{\n        e.preventDefault();\n        dispatch(saveShippinginfo({address,city,phoneno,postalcode,country,state}))\n        navigate(\"/order/confirm\");\n\n    }\n    return  (\n        <Fragment>\n            <MetaData title={\"Shipping\"}/>\n            <CheckoutSteps shipping/>\n              <div className=\"row wrapper\">\n                <div className=\"col-10 col-lg-5\">\n                    <form className=\"shadow-lg\" onSubmit={submithandler}>\n                        <h1 className=\"mb-4\">Shipping Info</h1>\n                        <div className=\"form-group\">\n                            <label htmlFor=\"address_field\">Address</label>\n                            <input\n                                type=\"text\"\n                                id=\"address_field\"\n                                className=\"form-control\"\n                                value={address}\n                                onChange={(e)=>setAddress(e.target.value)}\n                                required\n                            />\n                        </div>\n\n                        <div className=\"form-group\">\n                            <label htmlFor=\"city_field\">City</label>\n                            <input\n                                type=\"text\"\n                                id=\"city_field\"\n                                className=\"form-control\"\n                                value={city}\n                                 onChange={(e)=>setCity(e.target.value)}\n                                required\n                            />\n                        </div>\n\n                        <div className=\"form-group\">\n                            <label htmlhtmlFor=\"phone_field\">Phone No</label>\n                            <input\n                                type=\"phone\"\n                                id=\"phone_field\"\n                                className=\"form-control\"\n                                value={phoneno}\n                                 onChange={(e)=>setphoneno(e.target.value)}\n                                required\n                            />\n                        </div>\n\n                        <div className=\"form-group\">\n                            <label htmlFor=\"postal_code_field\">Postal Code</label>\n                            <input\n                                type=\"number\"\n                                id=\"postal_code_field\"\n                                className=\"form-control\"\n                                value={postalcode}\n                                 onChange={(e)=>setpostalcode(e.target.value)}\n                                required\n                            />\n                        </div>\n\n                        <div className=\"form-group\">\n                            <label htmlFor=\"postal_code_field\">State</label>\n                            <input\n                                type=\"text\"\n                                id=\"postal_code_field\"\n                                className=\"form-control\"\n                                value={state}\n                                 onChange={(e)=>setstate(e.target.value)}\n                                required\n                            />\n                        </div>\n\n                        <div className=\"form-group\">\n                                <label htmlFor=\"country_field\">Country</label>\n                                <select\n                                    id=\"country_field\"\n                                    className=\"form-control\"\n                                    value={country}\n                                    onChange={(e) => setcountry(e.target.value)}\n                                    required\n\n                                >{ countrylist.map((country, i) => (\n\n                                    <option key={i} value={country.name}>\n                                        {country.name}\n                                    </option>\n                                ))\n                                }\n                                </select>\n                            </div>\n\n                        <button\n                            id=\"shipping_btn\"\n                            type=\"submit\"\n                            className=\"btn btn-block py-3\"\n                        >\n                            CONTINUE\n                            </button>\n                    </form>\n                </div>\n            </div>\n        </Fragment>\n    )\n}"],"mappings":"AAAA,OAASA,QAAQ,CAAEC,QAAQ,KAAQ,OAAO,CAC1C,OAAQC,WAAW,CAAEC,WAAW,KAAO,aAAa,CACpD,MAAO,CAAAC,QAAQ,KAAM,qBAAqB,CAC1C,OAAQC,SAAS,KAAO,gBAAgB,CACxC,OAASC,gBAAgB,KAAQ,wBAAwB,CACzD,OAAQC,WAAW,KAAO,kBAAkB,CAC5C,MAAO,CAAAC,aAAa,KAAM,iBAAiB,CAC3C,OAASC,KAAK,KAAQ,gBAAgB,CACtC,MAAO,uCAAuC,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAC/C,MAAO,MAAM,CAAAC,gBAAgB,CAAGA,CAACC,YAAY,CAAEC,QAAQ,GAAK,CACxD,KAAM,CAAEC,OAAO,CAAEC,OAAO,CAAEC,UAAU,CAAEC,KAAK,CAAEC,OAAO,CAAEC,IAAK,CAAC,CAAGP,YAAY,CAC3EQ,OAAO,CAACC,GAAG,CAAC,gBAAgB,CAAET,YAAY,CAAC,CAG3C,GACI,EAACE,OAAO,SAAPA,OAAO,WAAPA,OAAO,CAAEQ,IAAI,CAAC,CAAC,GAChB,EAACP,OAAO,SAAPA,OAAO,WAAPA,OAAO,CAAEO,IAAI,CAAC,CAAC,GAChB,EAACN,UAAU,SAAVA,UAAU,WAAVA,UAAU,CAAEM,IAAI,CAAC,CAAC,GACnB,EAACL,KAAK,SAALA,KAAK,WAALA,KAAK,CAAEK,IAAI,CAAC,CAAC,GACd,EAACJ,OAAO,SAAPA,OAAO,WAAPA,OAAO,CAAEI,IAAI,CAAC,CAAC,GAChB,EAACH,IAAI,SAAJA,IAAI,WAAJA,IAAI,CAAEG,IAAI,CAAC,CAAC,EACf,CAEEhB,KAAK,CAAC,yCAAyC,CAAE,CAC7CiB,QAAQ,CAAE,eAAe,CACzBC,IAAI,CAAE,OACV,CAAC,CAAC,CACFX,QAAQ,CAAC,WAAW,CAAC,CACrB,MAAO,MAAK,CAChB,CAEA,MAAO,KAAI,CACf,CAAC,CAED,cAAe,SAAS,CAAAY,YAAYA,CAAA,CAAE,CAElC,KAAM,CAACb,YAAY,CAAC,CAACZ,WAAW,CAACiB,KAAK,EAAEA,KAAK,CAACS,SAAS,CAAC,CACxD,KAAM,CAACZ,OAAO,CAACa,UAAU,CAAC,CAAC7B,QAAQ,CAACc,YAAY,CAACE,OAAO,CAAC,CACzD,KAAM,CAACK,IAAI,CAACS,OAAO,CAAC,CAAC9B,QAAQ,CAACc,YAAY,CAACO,IAAI,CAAC,CAChD,KAAM,CAACH,UAAU,CAACa,aAAa,CAAC,CAAC/B,QAAQ,CAACc,YAAY,CAACI,UAAU,CAAC,CAClE,KAAM,CAACD,OAAO,CAACe,UAAU,CAAC,CAAChC,QAAQ,CAACc,YAAY,CAACG,OAAO,CAAC,CACzD,KAAM,CAACG,OAAO,CAACa,UAAU,CAAC,CAACjC,QAAQ,CAACc,YAAY,CAACM,OAAO,CAAC,CACzD,KAAM,CAACD,KAAK,CAACe,QAAQ,CAAC,CAAClC,QAAQ,CAAC2B,YAAY,CAACR,KAAK,CAAC,CACnD,KAAM,CAAAgB,WAAW,CAACC,MAAM,CAACC,MAAM,CAACjC,SAAS,CAAC,CAC1C,KAAM,CAAAkC,QAAQ,CAACrC,WAAW,CAAC,CAAC,CAC5B,KAAM,CAAAc,QAAQ,CAACT,WAAW,CAAC,CAAC,CAC5B,KAAM,CAAAiC,aAAa,CAAEC,CAAC,EAAG,CACrBA,CAAC,CAACC,cAAc,CAAC,CAAC,CAClBH,QAAQ,CAACjC,gBAAgB,CAAC,CAACW,OAAO,CAACK,IAAI,CAACJ,OAAO,CAACC,UAAU,CAACE,OAAO,CAACD,KAAK,CAAC,CAAC,CAAC,CAC3EJ,QAAQ,CAAC,gBAAgB,CAAC,CAE9B,CAAC,CACD,mBACIH,KAAA,CAACb,QAAQ,EAAA2C,QAAA,eACLhC,IAAA,CAACP,QAAQ,EAACwC,KAAK,CAAE,UAAW,CAAC,CAAC,cAC9BjC,IAAA,CAACH,aAAa,EAACqC,QAAQ,MAAC,CAAC,cACvBlC,IAAA,QAAKmC,SAAS,CAAC,aAAa,CAAAH,QAAA,cAC1BhC,IAAA,QAAKmC,SAAS,CAAC,iBAAiB,CAAAH,QAAA,cAC5B9B,KAAA,SAAMiC,SAAS,CAAC,WAAW,CAACC,QAAQ,CAAEP,aAAc,CAAAG,QAAA,eAChDhC,IAAA,OAAImC,SAAS,CAAC,MAAM,CAAAH,QAAA,CAAC,eAAa,CAAI,CAAC,cACvC9B,KAAA,QAAKiC,SAAS,CAAC,YAAY,CAAAH,QAAA,eACvBhC,IAAA,UAAOqC,OAAO,CAAC,eAAe,CAAAL,QAAA,CAAC,SAAO,CAAO,CAAC,cAC9ChC,IAAA,UACIgB,IAAI,CAAC,MAAM,CACXsB,EAAE,CAAC,eAAe,CAClBH,SAAS,CAAC,cAAc,CACxBI,KAAK,CAAEjC,OAAQ,CACfkC,QAAQ,CAAGV,CAAC,EAAGX,UAAU,CAACW,CAAC,CAACW,MAAM,CAACF,KAAK,CAAE,CAC1CG,QAAQ,MACX,CAAC,EACD,CAAC,cAENxC,KAAA,QAAKiC,SAAS,CAAC,YAAY,CAAAH,QAAA,eACvBhC,IAAA,UAAOqC,OAAO,CAAC,YAAY,CAAAL,QAAA,CAAC,MAAI,CAAO,CAAC,cACxChC,IAAA,UACIgB,IAAI,CAAC,MAAM,CACXsB,EAAE,CAAC,YAAY,CACfH,SAAS,CAAC,cAAc,CACxBI,KAAK,CAAE5B,IAAK,CACX6B,QAAQ,CAAGV,CAAC,EAAGV,OAAO,CAACU,CAAC,CAACW,MAAM,CAACF,KAAK,CAAE,CACxCG,QAAQ,MACX,CAAC,EACD,CAAC,cAENxC,KAAA,QAAKiC,SAAS,CAAC,YAAY,CAAAH,QAAA,eACvBhC,IAAA,UAAO2C,WAAW,CAAC,aAAa,CAAAX,QAAA,CAAC,UAAQ,CAAO,CAAC,cACjDhC,IAAA,UACIgB,IAAI,CAAC,OAAO,CACZsB,EAAE,CAAC,aAAa,CAChBH,SAAS,CAAC,cAAc,CACxBI,KAAK,CAAEhC,OAAQ,CACdiC,QAAQ,CAAGV,CAAC,EAAGR,UAAU,CAACQ,CAAC,CAACW,MAAM,CAACF,KAAK,CAAE,CAC3CG,QAAQ,MACX,CAAC,EACD,CAAC,cAENxC,KAAA,QAAKiC,SAAS,CAAC,YAAY,CAAAH,QAAA,eACvBhC,IAAA,UAAOqC,OAAO,CAAC,mBAAmB,CAAAL,QAAA,CAAC,aAAW,CAAO,CAAC,cACtDhC,IAAA,UACIgB,IAAI,CAAC,QAAQ,CACbsB,EAAE,CAAC,mBAAmB,CACtBH,SAAS,CAAC,cAAc,CACxBI,KAAK,CAAE/B,UAAW,CACjBgC,QAAQ,CAAGV,CAAC,EAAGT,aAAa,CAACS,CAAC,CAACW,MAAM,CAACF,KAAK,CAAE,CAC9CG,QAAQ,MACX,CAAC,EACD,CAAC,cAENxC,KAAA,QAAKiC,SAAS,CAAC,YAAY,CAAAH,QAAA,eACvBhC,IAAA,UAAOqC,OAAO,CAAC,mBAAmB,CAAAL,QAAA,CAAC,OAAK,CAAO,CAAC,cAChDhC,IAAA,UACIgB,IAAI,CAAC,MAAM,CACXsB,EAAE,CAAC,mBAAmB,CACtBH,SAAS,CAAC,cAAc,CACxBI,KAAK,CAAE9B,KAAM,CACZ+B,QAAQ,CAAGV,CAAC,EAAGN,QAAQ,CAACM,CAAC,CAACW,MAAM,CAACF,KAAK,CAAE,CACzCG,QAAQ,MACX,CAAC,EACD,CAAC,cAENxC,KAAA,QAAKiC,SAAS,CAAC,YAAY,CAAAH,QAAA,eACnBhC,IAAA,UAAOqC,OAAO,CAAC,eAAe,CAAAL,QAAA,CAAC,SAAO,CAAO,CAAC,cAC9ChC,IAAA,WACIsC,EAAE,CAAC,eAAe,CAClBH,SAAS,CAAC,cAAc,CACxBI,KAAK,CAAE7B,OAAQ,CACf8B,QAAQ,CAAGV,CAAC,EAAKP,UAAU,CAACO,CAAC,CAACW,MAAM,CAACF,KAAK,CAAE,CAC5CG,QAAQ,MAAAV,QAAA,CAETP,WAAW,CAACmB,GAAG,CAAC,CAAClC,OAAO,CAAEmC,CAAC,gBAE1B7C,IAAA,WAAgBuC,KAAK,CAAE7B,OAAO,CAACoC,IAAK,CAAAd,QAAA,CAC/BtB,OAAO,CAACoC,IAAI,EADJD,CAEL,CACX,CAAC,CAEM,CAAC,EACR,CAAC,cAEV7C,IAAA,WACIsC,EAAE,CAAC,cAAc,CACjBtB,IAAI,CAAC,QAAQ,CACbmB,SAAS,CAAC,oBAAoB,CAAAH,QAAA,CACjC,UAEG,CAAQ,CAAC,EACX,CAAC,CACN,CAAC,CACL,CAAC,EACA,CAAC,CAEnB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}