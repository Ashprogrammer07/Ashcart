{"ast":null,"code":"import{Fragment}from\"react\";import MetaData from\"../layouts/MetaData\";import{useDispatch,useSelector}from\"react-redux\";import{Link,useNavigate}from\"react-router-dom\";import{decreasecartitemquantity,increasecartitemquantity,removeitemfromCart}from\"../../slices/cartSlice\";import'react-toastify/dist/ReactToastify.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export default function Cart(){const{items}=useSelector(state=>state.cartState);const dispatch=useDispatch();const navigate=useNavigate();const increaseQty=item=>{const count=item.quantity;if(item.stock==0||count>=item.stock)return;dispatch(increasecartitemquantity(item.productId));};const decreaseQty=item=>{const count=item.quantity;if(count==1)return;dispatch(decreasecartitemquantity(item.productId));};const checkoutHandler=()=>{navigate('/login?redirect=shipping');};return/*#__PURE__*/_jsxs(Fragment,{children:[/*#__PURE__*/_jsx(MetaData,{title:\"Cart\"}),items.length===0?/*#__PURE__*/_jsx(\"h2\",{className:\"mt-5\",children:\"Your Cart is Empty\"}):/*#__PURE__*/_jsxs(Fragment,{children:[/*#__PURE__*/_jsxs(\"h2\",{className:\"mt-5\",children:[\"Your Cart: \",/*#__PURE__*/_jsxs(\"b\",{children:[items.length,\" items\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"row d-flex justify-content-between\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-12 col-lg-8\",children:items.map((item,index)=>/*#__PURE__*/_jsxs(Fragment,{children:[/*#__PURE__*/_jsx(\"hr\",{}),/*#__PURE__*/_jsx(\"div\",{className:\"cart-item\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-4 col-lg-3\",children:/*#__PURE__*/_jsx(\"img\",{src:item.image,alt:item.name,height:\"90\",width:\"115\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-5 col-lg-3\",children:/*#__PURE__*/_jsx(Link,{to:\"/products/\".concat(item.product),children:item.name})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-4 col-lg-2 mt-4 mt-lg-0\",children:/*#__PURE__*/_jsxs(\"p\",{id:\"card_item_price\",children:[\"$\",item.price]})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-4 col-lg-3 mt-4 mt-lg-0\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"stockCounter d-inline\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"btn btn-danger minus\",onClick:()=>decreaseQty(item),children:\"-\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",className:\"form-control count d-inline\",value:item.quantity,readOnly:true}),/*#__PURE__*/_jsx(\"span\",{className:\"btn btn-primary plus\",onClick:()=>increaseQty(item),children:\"+\"})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-4 col-lg-1 mt-4 mt-lg-0\",children:/*#__PURE__*/_jsx(\"i\",{id:\"delete_cart_item\",className:\"fa fa-trash btn btn-danger\",onClick:()=>dispatch(removeitemfromCart(item.productId))})})]})})]},item.product||index))}),/*#__PURE__*/_jsx(\"div\",{className:\"col-12 col-lg-3 my-4\",children:/*#__PURE__*/_jsxs(\"div\",{id:\"order_summary\",children:[/*#__PURE__*/_jsx(\"h4\",{children:\"Order Summary\"}),/*#__PURE__*/_jsx(\"hr\",{}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Subtotal: \",/*#__PURE__*/_jsxs(\"span\",{className:\"order-summary-values\",children:[items.reduce((acc,item)=>acc+item.quantity,0),\" (Units)\"]})]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Est. total: \",/*#__PURE__*/_jsxs(\"span\",{className:\"order-summary-values\",children:[\"$\",items.reduce((acc,item)=>acc+item.quantity*item.price,0).toFixed(2)]})]}),/*#__PURE__*/_jsx(\"hr\",{}),/*#__PURE__*/_jsx(\"button\",{id:\"checkout_btn\",className:\"btn btn-primary btn-block\",onClick:checkoutHandler,children:\"Check out\"})]})})]})]})]});}","map":{"version":3,"names":["Fragment","MetaData","useDispatch","useSelector","Link","useNavigate","decreasecartitemquantity","increasecartitemquantity","removeitemfromCart","jsx","_jsx","jsxs","_jsxs","Cart","items","state","cartState","dispatch","navigate","increaseQty","item","count","quantity","stock","productId","decreaseQty","checkoutHandler","children","title","length","className","map","index","src","image","alt","name","height","width","to","concat","product","id","price","onClick","type","value","readOnly","reduce","acc","toFixed"],"sources":["/home/ashwin/Documents/GitHub/Ashcart/frontend/src/components/cart/cart.js"],"sourcesContent":["import { Fragment } from \"react\";\nimport MetaData from \"../layouts/MetaData\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { Link, useNavigate } from \"react-router-dom\";\nimport { decreasecartitemquantity, increasecartitemquantity, removeitemfromCart } from \"../../slices/cartSlice\";\nimport 'react-toastify/dist/ReactToastify.css';\n\nexport default function Cart() {\n   const {items } = useSelector(state => state.cartState)\n    const dispatch = useDispatch();\n    const navigate = useNavigate();\n\n    const increaseQty = (item) => {\n        const count = item.quantity;\n        if(item.stock ==0 ||  count >= item.stock) return;\n        dispatch(increasecartitemquantity(item.productId))\n    }\n    const decreaseQty = (item) => {\n        const count = item.quantity;\n        if(count == 1) return;\n        dispatch(decreasecartitemquantity(item.productId))\n    }\n\n    const checkoutHandler = () =>{\n        navigate('/login?redirect=shipping')\n    }\n  return (\n    <Fragment>\n      <MetaData title={\"Cart\"} />\n      {items.length === 0 ? (\n        <h2 className=\"mt-5\">Your Cart is Empty</h2>\n      ) : (\n        <Fragment>\n          <h2 className=\"mt-5\">Your Cart: <b>{items.length} items</b></h2>\n          <div className=\"row d-flex justify-content-between\">\n            <div className=\"col-12 col-lg-8\">\n              {items.map((item, index) => (\n                <Fragment key={item.product || index}>\n                  <hr />\n                  <div className=\"cart-item\">\n                    <div className=\"row\">\n                      <div className=\"col-4 col-lg-3\">\n                        <img src={item.image} alt={item.name} height=\"90\" width=\"115\" />\n                      </div>\n\n                      <div className=\"col-5 col-lg-3\">\n                        <Link to={`/products/${item.product}`}>{item.name}</Link>\n                      </div>\n\n                      <div className=\"col-4 col-lg-2 mt-4 mt-lg-0\">\n                        <p id=\"card_item_price\">${item.price}</p>\n                      </div>\n\n                      <div className=\"col-4 col-lg-3 mt-4 mt-lg-0\">\n                        <div className=\"stockCounter d-inline\">\n                          <span className=\"btn btn-danger minus\" onClick={()=>decreaseQty(item)}>-</span>\n                          <input\n                            type=\"number\"\n                            className=\"form-control count d-inline\"\n                            value={item.quantity}\n                            readOnly\n                            \n                          />\n                          <span className=\"btn btn-primary plus\" onClick={()=>increaseQty(item)}>+</span>\n                        </div>\n                      </div>\n\n                      <div className=\"col-4 col-lg-1 mt-4 mt-lg-0\">\n                        <i\n                          id=\"delete_cart_item\"\n                          className=\"fa fa-trash btn btn-danger\"\n                          onClick={() => dispatch(removeitemfromCart(item.productId))}\n                        ></i>\n                      </div>\n                    </div>\n                  </div>\n                </Fragment>\n              ))}\n            </div>\n\n            <div className=\"col-12 col-lg-3 my-4\">\n              <div id=\"order_summary\">\n                <h4>Order Summary</h4>\n                <hr />\n                <p>Subtotal: <span className=\"order-summary-values\">{items.reduce((acc, item) => acc + item.quantity, 0)} (Units)</span></p>\n                <p>Est. total: <span className=\"order-summary-values\">${items.reduce((acc, item) => acc + item.quantity * item.price, 0).toFixed(2)}</span></p>\n                <hr />\n                <button\n                  id=\"checkout_btn\"\n                  className=\"btn btn-primary btn-block\"\n                  onClick={checkoutHandler}\n                >\n                  Check out\n                </button>\n              </div>\n            </div>\n          </div>\n        </Fragment>\n      )}\n    </Fragment>\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}