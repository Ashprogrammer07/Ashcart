{"ast":null,"code":"import{Fragment,useEffect,useState}from\"react\";import MetaData from\"../layouts/MetaData\";import{useDispatch,useSelector}from\"react-redux\";import{updatePassword,clearAutherror}from\"../../actions/userActions\";import{toast}from\"react-toastify\";import'react-toastify/dist/ReactToastify.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export default function UpdatePassword(){const[password,setPassword]=useState(\"\");const[oldpassword,setOldpassword]=useState(\"\");const dispatch=useDispatch();const onsubmithandler=e=>{e.preventDefault();const passwordData={oldPassword:oldpassword,password:password};dispatch(updatePassword(passwordData));};const{isupdated,error}=useSelector(state=>state.authState);useEffect(()=>{if(isupdated){toast('Password updated successfully',{type:'success',position:'bottom-center'});setOldpassword(\"\");setPassword(\"\");return;}if(error){toast(error,{position:'bottom-center',type:'error',onOpen:()=>{dispatch(clearAutherror);}});return;}},[isupdated,error,dispatch]);return/*#__PURE__*/_jsxs(Fragment,{children:[/*#__PURE__*/_jsx(MetaData,{title:\"Change Password\"}),/*#__PURE__*/_jsx(\"div\",{className:\"row wrapper\",children:/*#__PURE__*/_jsx(\"div\",{className:\"col-10 col-lg-5\",children:/*#__PURE__*/_jsxs(\"form\",{className:\"shadow-lg\",onSubmit:onsubmithandler,children:[/*#__PURE__*/_jsx(\"h1\",{className:\"mt-2 mb-5\",children:\"Update Password\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"old_password_field\",children:\"Old Password\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",id:\"old_password_field\",className:\"form-control\",value:oldpassword,onChange:e=>setOldpassword(e.target.value)})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"new_password_field\",children:\"New Password\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",id:\"new_password_field\",className:\"form-control\",value:password,onChange:e=>setPassword(e.target.value)})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"btn update-btn btn-block mt-4 mb-3\",children:\"Update Password\"})]})})})]});}","map":{"version":3,"names":["Fragment","useEffect","useState","MetaData","useDispatch","useSelector","updatePassword","clearAutherror","toast","jsx","_jsx","jsxs","_jsxs","UpdatePassword","password","setPassword","oldpassword","setOldpassword","dispatch","onsubmithandler","e","preventDefault","passwordData","oldPassword","isupdated","error","state","authState","type","position","onOpen","children","title","className","onSubmit","htmlFor","id","value","onChange","target"],"sources":["/home/ashwin/Documents/GitHub/Ashcart/frontend/src/components/user/updatepassword.js"],"sourcesContent":["import { Fragment, useEffect, useState } from \"react\";\nimport MetaData from \"../layouts/MetaData\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { updatePassword,clearAutherror } from \"../../actions/userActions\";\nimport { toast } from \"react-toastify\";\nimport 'react-toastify/dist/ReactToastify.css';\nexport default function UpdatePassword(){\n\n    const [password,setPassword]=useState(\"\");\n    const [oldpassword,setOldpassword]=useState(\"\");\n    const dispatch= useDispatch();\n    const onsubmithandler = (e) => {\n    e.preventDefault();\n    const passwordData = {\n        oldPassword: oldpassword,\n        password: password\n    };\n    dispatch(updatePassword(passwordData));\n};\n\n\n    const {isupdated,error}=useSelector(state=>state.authState);\n    useEffect(()=>{\n        if(isupdated) {\n                    toast('Password updated successfully',{\n                        type: 'success',\n                        position: 'bottom-center',\n                        \n                    })\n                    setOldpassword(\"\");\n                    setPassword(\"\");\n                    return;\n                }\n        \n                if(error)  {\n                    toast(error, {\n                        position: 'bottom-center',\n                        type: 'error',\n                        onOpen: ()=> { dispatch(clearAutherror) }\n                    })\n                    return\n                }\n    },[isupdated,error,dispatch])\n\n    return(\n        <Fragment>\n            <MetaData title={\"Change Password\"}/>\n            <div className=\"row wrapper\">\n                <div className=\"col-10 col-lg-5\">\n                    <form className=\"shadow-lg\" onSubmit={onsubmithandler}>\n                        <h1 className=\"mt-2 mb-5\">Update Password</h1>\n                        <div className=\"form-group\">\n                            <label htmlFor=\"old_password_field\">Old Password</label>\n                            <input\n                                type=\"password\"\n                                id=\"old_password_field\"\n                                className=\"form-control\"\n                                value={oldpassword}\n                                onChange={e=>setOldpassword(e.target.value)}\n                            />\n                        </div>\n\n                        <div className=\"form-group\">\n                            <label htmlFor=\"new_password_field\">New Password</label>\n                            <input\n                                type=\"password\"\n                                id=\"new_password_field\"\n                                className=\"form-control\"\n                                value={password}\n                                onChange={e=> setPassword(e.target.value)}\n                            />\n                        </div>\n\n                        <button type=\"submit\" className=\"btn update-btn btn-block mt-4 mb-3\">Update Password</button>\n                    </form>\n                </div>\n            </div>\n        </Fragment>\n    )\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}