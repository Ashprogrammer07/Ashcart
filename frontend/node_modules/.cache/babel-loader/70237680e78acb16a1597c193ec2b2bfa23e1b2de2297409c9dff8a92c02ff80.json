{"ast":null,"code":"import _objectSpread from\"/home/ashwin/Documents/GitHub/Ashcart/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import{createSlice}from\"@reduxjs/toolkit\";const cartSlice=createSlice({name:'cart',initialState:{items:localStorage.getItem('cartItems')?JSON.parse(localStorage.getItem('cartItems')):[],loading:false,shippingInfo:localStorage.getItem('shippingInfo')?JSON.parse(localStorage.getItem('shippingInfo')):{}},reducers:{addcartitemRequest(state,action){return _objectSpread(_objectSpread({},state),{},{loading:true});},addcartitemSuccess(state,action){const item=action.payload;console.log(item);const isItemExist=state.items.find(i=>i.productId===item.productId);if(isItemExist){// Item exists → update quantity or whatever field you want\nisItemExist.quantity=item.quantity;// OR += item.quantity\n}else{// Item does not exist → push new item\nstate.items=[...state.items,item];}// Save updated cart to localStorage\nlocalStorage.setItem('cartItems',JSON.stringify(state.items));return state;},increasecartitemquantity(state,action){state.items=state.items.map(item=>{if(item.productId==action.payload){item.quantity=item.quantity+1;}return item;});localStorage.setItem('cartItems',JSON.stringify(state.items));},decreasecartitemquantity(state,action){state.items=state.items.map(item=>{if(item.productId==action.payload){item.quantity=item.quantity-1;}return item;});localStorage.setItem('cartItems',JSON.stringify(state.items));},removeitemfromCart(state,action){const filterItems=state.items.filter(item=>{return item.productId!==action.payload;});return _objectSpread(_objectSpread({},state),{},{items:filterItems});},saveShippinginfo(state,action){localStorage.setItem('shippingInfo',JSON.stringify(action.payload));return _objectSpread(_objectSpread({},state),{},{shippingInfo:action.payload});},ordercompleted(state,action){localStorage.removeItem('shippingInfo');localStorage.removeItem('cartItems');sessionStorage.removeItem('orderInfo');return{items:[],loading:false,shippingInfo:{}};},clearCart(state,action){localStorage.removeItem('cartItems');localStorage.removeItem('shippingInfo');return _objectSpread(_objectSpread({},state),{},{items:[],shippingInfo:{}});}}});const{actions,reducer}=cartSlice;export const{addcartitemRequest,addcartitemSuccess,increasecartitemquantity,decreasecartitemquantity,removeitemfromCart,saveShippinginfo,ordercompleted,clearCart}=actions;export default reducer;","map":{"version":3,"names":["createSlice","cartSlice","name","initialState","items","localStorage","getItem","JSON","parse","loading","shippingInfo","reducers","addcartitemRequest","state","action","_objectSpread","addcartitemSuccess","item","payload","console","log","isItemExist","find","i","productId","quantity","setItem","stringify","increasecartitemquantity","map","decreasecartitemquantity","removeitemfromCart","filterItems","filter","saveShippinginfo","ordercompleted","removeItem","sessionStorage","clearCart","actions","reducer"],"sources":["/home/ashwin/Documents/GitHub/Ashcart/frontend/src/slices/cartSlice.js"],"sourcesContent":["import { createSlice } from \"@reduxjs/toolkit\";\n\n\n\nconst cartSlice = createSlice({\n    name: 'cart',\n    initialState: {\n        items: localStorage.getItem('cartItems')? JSON.parse(localStorage.getItem('cartItems')): [],\n        loading: false,\n        shippingInfo: localStorage.getItem('shippingInfo')? JSON.parse(localStorage.getItem('shippingInfo')): {}\n    },\n    reducers: {\n        addcartitemRequest(state, action){\n            return {\n                ...state,\n                loading: true\n            }\n        },\n     addcartitemSuccess(state, action) {\n  const item = action.payload;\n  console.log(item);\n\n  const isItemExist = state.items.find(i => i.productId === item.productId);\n\n  if (isItemExist) {\n    // Item exists → update quantity or whatever field you want\n    isItemExist.quantity = item.quantity; // OR += item.quantity\n  } else {\n    // Item does not exist → push new item\n   state.items=[...state.items,item]\n  }\n\n  \n\n  // Save updated cart to localStorage\n  localStorage.setItem('cartItems', JSON.stringify(state.items));\n  return state;\n}\n,\n\n\n\n        increasecartitemquantity(state,action){\n            state.items=state.items.map(item=>{\n                if(item.productId==action.payload){\n                    item.quantity=item.quantity+1\n                }\n                return item;\n            })\n            localStorage.setItem('cartItems',JSON.stringify(state.items));\n        },\n        decreasecartitemquantity(state,action){\n            state.items=state.items.map(item=>{\n                if(item.productId==action.payload){\n                    item.quantity=item.quantity-1\n                }\n                return item;\n            })\n            localStorage.setItem('cartItems',JSON.stringify(state.items));\n        },\n        removeitemfromCart(state,action){\n            const filterItems=state.items.filter(item=> {\n                return item.productId !==action.payload\n            })\n            return {\n                ...state,\n                items:filterItems\n            }\n        },\n        saveShippinginfo(state,action){\n            localStorage.setItem('shippingInfo',JSON.stringify(action.payload))\n            return{\n                ...state,\n                shippingInfo:action.payload\n            }\n        },\n        ordercompleted(state,action){\n            localStorage.removeItem('shippingInfo')\n            localStorage.removeItem('cartItems')\n            sessionStorage.removeItem('orderInfo')\n            return{\n    \n                items:[],\n                loading:false,\n                shippingInfo:{}\n            }\n        },\n        clearCart(state, action) {\n  localStorage.removeItem('cartItems');\n  localStorage.removeItem('shippingInfo');\n  return {\n    ...state,\n    items: [],\n    shippingInfo: {},\n  };\n}\n\n  }\n});\nconst { actions, reducer } = cartSlice;\n\nexport const { addcartitemRequest,addcartitemSuccess,increasecartitemquantity,decreasecartitemquantity,removeitemfromCart,saveShippinginfo,ordercompleted,clearCart } = actions;\nexport default reducer;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}